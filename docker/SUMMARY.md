# Docker å¼€å‘ç¯å¢ƒé›†åˆ - é—®é¢˜ä¿®å¤æ€»ç»“

## ğŸ”§ å·²ä¿®å¤çš„é—®é¢˜

### 1. Kafka é•œåƒç‰ˆæœ¬é—®é¢˜
**é—®é¢˜**: `bitnami/kafka:3.8` é•œåƒä¸å­˜åœ¨
**è§£å†³æ–¹æ¡ˆ**:
- æ›´æ¢ ZooKeeper ä¸ºå®˜æ–¹é•œåƒ: `zookeeper:3.9`
- æ›´æ¢ Kafka ä¸º Confluent å®˜æ–¹é•œåƒ: `confluentinc/cp-kafka:7.6.0`
- ä¼˜åŒ–ç¯å¢ƒé…ç½®å’Œä¾èµ–å…³ç³»

### 2. Docker Compose ç‰ˆæœ¬è­¦å‘Š
**é—®é¢˜**: `version: '3.8'` å­—æ®µå·²è¿‡æ—¶
**è§£å†³æ–¹æ¡ˆ**: ç§»é™¤ `version` å­—æ®µï¼Œä½¿ç”¨æœ€æ–°çš„ Compose æ ¼å¼

### 3. é•œåƒç‰ˆæœ¬æ›´æ–°
æ‰€æœ‰é•œåƒå·²æ›´æ–°åˆ°æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼š

| æœåŠ¡ | æ—§ç‰ˆæœ¬ | æ–°ç‰ˆæœ¬ |
|------|--------|--------|
| MySQL | 8.0 | 9.0 |
| PostgreSQL | 15 | 17 |
| MongoDB | 6 | 8.0 |
| Redis | 7 | latest |
| ZooKeeper | 3.8 | 3.9 |
| Kafka | 3.6 (Bitnami) | 7.6.0 (Confluent) |
| etcd | v3.5.10 | v3.5.16 |
| NATS | 2.10 | latest |

### 4. å¢å¼ºçš„å¥åº·æ£€æŸ¥
ä¸ºæ‰€æœ‰æœåŠ¡æ·»åŠ äº†å¥åº·æ£€æŸ¥å’Œä¾èµ–å…³ç³»ï¼Œç¡®ä¿æœåŠ¡æŒ‰æ­£ç¡®é¡ºåºå¯åŠ¨ã€‚

## ğŸ“ åˆ›å»ºçš„æ–‡ä»¶

### 1. ç¯å¢ƒé…ç½®æ–‡ä»¶
- `docker-compose.yml` - åŸºç¡€æ•°æ®æœåŠ¡ç¯å¢ƒï¼ˆå·²ä¿®å¤ï¼‰
- `web-dev.yml` - Web å¼€å‘ç¯å¢ƒ
- `data-analysis.yml` - æ•°æ®åˆ†æç¯å¢ƒ

### 2. ç®¡ç†è„šæœ¬
- `start.sh` - æ™ºèƒ½å¯åŠ¨è„šæœ¬ï¼ˆæ”¯æŒå¤šç¯å¢ƒç®¡ç†ï¼‰
- `test.sh` - æœåŠ¡è¿æ¥æµ‹è¯•è„šæœ¬

### 3. æ–‡æ¡£
- `README.md` - è¯¦ç»†ä½¿ç”¨è¯´æ˜
- `CONNECTION_GUIDE.md` - Docker è¿æ¥æŒ‡å—
- `QUICK_START.md` - å¿«é€Ÿå¯åŠ¨æŒ‡å—
- `SUMMARY.md` - é—®é¢˜ä¿®å¤æ€»ç»“ï¼ˆæœ¬æ–‡ä»¶ï¼‰

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### å¿«é€Ÿå¯åŠ¨
```bash
# å¯åŠ¨åŸºç¡€æ•°æ®æœåŠ¡
./start.sh base

# å¯åŠ¨ Web å¼€å‘ç¯å¢ƒ
./start.sh web

# å¯åŠ¨æ•°æ®åˆ†æç¯å¢ƒ
./start.sh analysis
```

### è¿æ¥æµ‹è¯•
```bash
# æµ‹è¯•åŸºç¡€ç¯å¢ƒ
./test.sh base

# æµ‹è¯• Web å¼€å‘ç¯å¢ƒ
./test.sh web

# æµ‹è¯•æ•°æ®åˆ†æç¯å¢ƒ
./test.sh analysis
```

### æœåŠ¡ç®¡ç†
```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./start.sh base status

# æŸ¥çœ‹æ—¥å¿—
./start.sh base logs

# é‡å¯æœåŠ¡
./start.sh base restart

# åœæ­¢æœåŠ¡
./start.sh base down
```

## ğŸ” é»˜è®¤è®¤è¯ä¿¡æ¯

### åŸºç¡€ç¯å¢ƒ
- MySQL: devuser/devpass
- PostgreSQL: devuser/devpass
- MongoDB: devuser/devpass
- Redis: devpass
- ClickHouse: devuser/devpass

### Web å¼€å‘ç¯å¢ƒ
- Web MySQL: webuser/webpass123
- Web Redis: webredis123
- RabbitMQ: webadmin/webadmin123
- Grafana: admin/admin123
- Portainer: admin/admin123

### æ•°æ®åˆ†æç¯å¢ƒ
- æ•°æ®ä»“åº“ PostgreSQL: analyst/analyst123
- ClickHouse Analytics: analyst/analyst123
- MongoDB Analytics: analyst/analyst123
- MinIO: analyst/analyst123456
- Airflow: airflow/airflow123
- Superset: admin/admin123

## ğŸŒ ç«¯å£æ˜ å°„

### åŸºç¡€ç¯å¢ƒ
- MySQL: 3306
- PostgreSQL: 5432
- MongoDB: 27017
- Redis: 6379
- ClickHouse: 8123, 9000
- Kafka: 9092
- ZooKeeper: 2181
- etcd: 2379, 2380

### Web å¼€å‘ç¯å¢ƒ
- Node.js åº”ç”¨: 3000
- Nginx å¼€å‘: 8080
- API ç½‘å…³: 80, 443
- Elasticsearch: 9200, 9300
- RabbitMQ: 5672, 15672
- Prometheus: 9090
- Grafana: 3001
- Portainer: 9443

### æ•°æ®åˆ†æç¯å¢ƒ
- Jupyter: 8888
- RStudio: 8787
- MinIO: 9000, 9001
- Airflow: 8080
- Spark Master: 8081
- Superset: 8088
- Grafana: 3000
- DBeaver: 8978
- File Browser: 8082

## âš¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **å†…å­˜åˆ†é…**: ä¸ºå¤§æ•°æ®åˆ†æç¯å¢ƒè‡³å°‘åˆ†é… 8GB å†…å­˜
2. **å­˜å‚¨ä¼˜åŒ–**: å°†æ•°æ®åº“æ•°æ®ç›®å½•æ”¾åœ¨ SSD ä¸Š
3. **ç½‘ç»œä¼˜åŒ–**: ä½¿ç”¨ Docker è‡ªå®šä¹‰ç½‘ç»œæé«˜æ€§èƒ½
4. **èµ„æºé™åˆ¶**: æ ¹æ®éœ€è¦è®¾ç½®é€‚å½“çš„ CPU å’Œå†…å­˜é™åˆ¶

## ğŸ›¡ï¸ å®‰å…¨å»ºè®®

1. **å¯†ç å®‰å…¨**: åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¿®æ”¹æ‰€æœ‰é»˜è®¤å¯†ç 
2. **ç½‘ç»œéš”ç¦»**: ä¸è¦æš´éœ²æ•°æ®åº“ç«¯å£åˆ°å…¬ç½‘
3. **SSL/TLS**: ä¸º Web æœåŠ¡å¯ç”¨ HTTPS
4. **å®šæœŸæ›´æ–°**: å®šæœŸæ›´æ–° Docker é•œåƒåˆ°æœ€æ–°ç‰ˆæœ¬
5. **å¤‡ä»½ç­–ç•¥**: åˆ¶å®šæ•°æ®å¤‡ä»½å’Œæ¢å¤ç­–ç•¥

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

1. **ç«¯å£å†²çª**
   - ä¿®æ”¹ docker-compose.yml ä¸­çš„ç«¯å£æ˜ å°„
   - ä½¿ç”¨ä¸åŒçš„ä¸»æœºç«¯å£

2. **å®¹å™¨å¯åŠ¨å¤±è´¥**
   - æ£€æŸ¥ Docker æ—¥å¿—: `docker-compose logs service_name`
   - ç¡®ä¿è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´å’Œå†…å­˜

3. **ç½‘ç»œè¿æ¥é—®é¢˜**
   - é‡å»º Docker ç½‘ç»œ: `docker-compose down && docker-compose up -d`
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

4. **æƒé™é—®é¢˜**
   - ç¡®ä¿ data ç›®å½•æœ‰æ­£ç¡®çš„æƒé™
   - æ£€æŸ¥ Docker daemon æƒé™

## ğŸ“Š ç¯å¢ƒå¯¹æ¯”

| ç‰¹æ€§ | åŸºç¡€ç¯å¢ƒ | Web å¼€å‘ | æ•°æ®åˆ†æ |
|------|----------|----------|----------|
| æ•°æ®åº“æœåŠ¡ | âœ… | âœ… | âœ… |
| ç¼“å­˜æœåŠ¡ | âœ… | âœ… | âœ… |
| æ¶ˆæ¯é˜Ÿåˆ— | âœ… | âœ… | âŒ |
| Web æœåŠ¡ | âŒ | âœ… | âœ… |
| ç›‘æ§å·¥å…· | âŒ | âœ… | âœ… |
| å¼€å‘å·¥å…· | âŒ | âœ… | âœ… |
| æ•°æ®å¤„ç† | âŒ | âŒ | âœ… |
| æœºå™¨å­¦ä¹  | âŒ | âŒ | âœ… |

## ğŸ”„ æ›´æ–°å’Œç»´æŠ¤

1. **å®šæœŸæ›´æ–°**: æ¯æœˆæ£€æŸ¥å¹¶æ›´æ–°é•œåƒç‰ˆæœ¬
2. **æ•°æ®å¤‡ä»½**: å®šæœŸå¤‡ä»½ data ç›®å½•
3. **æ¸…ç†èµ„æº**: ä½¿ç”¨ `docker system prune` æ¸…ç†æœªä½¿ç”¨çš„èµ„æº
4. **ç›‘æ§èµ„æº**: ä½¿ç”¨ `docker stats` ç›‘æ§å®¹å™¨èµ„æºä½¿ç”¨

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. æ£€æŸ¥ `CONNECTION_GUIDE.md` ä¸­çš„è¿æ¥è¯´æ˜
3. ä½¿ç”¨ `test.sh` è„šæœ¬è¯Šæ–­é—®é¢˜
4. æŸ¥çœ‹ Docker å®¹å™¨æ—¥å¿—: `docker-compose logs`

---

**æœ€åæ›´æ–°**: 2025-11-11
**ç‰ˆæœ¬**: 1.0.0
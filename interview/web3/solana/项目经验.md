#### 1. Solana 的账户模型和以太坊有何区别？

- Solana 采用的是基于账户的数据驱动模型，区别于以太坊的 EVM“状态 + 存储”模型。

#### 2. Solana 上的 Transaction 是如何并发执行的？

- 每个交易会声明它读写的账户集，Solana Runtime 会对交易做账户级别的并发调度：
- 若两个交易的账户没有重叠，可并行执行
- 否则会顺序执行，避免数据冲突
- 因此，高性能合约设计应避免频繁写入同一个账户（如全局状态 PDA）。

### 1. SPL Token 项目核心设计逻辑（Token 合约）

- 在 Solana 中，Token 不需要自定义智能合约，直接使用 SPL Token 标准即可实现发行、转账、销毁等功能。每个 Token 对应一个 Mint 账户，用户需要通过 ATA（Associated Token Account）进行余额管理。项目方可通过设定 mint authority 与 freeze authority 控制发行权限和合规性，广泛应用于 GameFi、积分系统与代币治理。

### 2. NFT 项目核心设计逻辑

- Solana 上的 NFT 采用 Metaplex 标准，基于 SPL Token 扩展实现，每个 NFT 是一个 supply=1 的 token mint，配合 Metadata PDA 保存标题、图片、URI 等元数据。Mint 阶段支持 Candy Machine 自动管理供应量与白名单规则。常见设计包括多级稀有度、Reveal 机制与链下 CDN 内容映射，兼容 Magic Eden 等主流市场。

### 3. DeFi 借贷项目核心设计逻辑（如 Lending Protocol）

- DeFi 借贷协议通常包括全局参数账户、市场池子账户、用户头寸账户。资产按池子隔离，支持存款生息、借款与清算机制。通过 Price Oracle 提供资产估值，用户借款时会生成 Position PDA 并计算 LTV。合约需支持还款、赎回、强平等操作，通常设计成只写用户自身 PDA，减少并发冲突。手续费按利差设计，部分返还流动性提供者。

### 4. 稳定币兑换（Swap）核心设计逻辑（如 USDC ⇌ UXD）

- 稳定币兑换通常基于流动性池或清算子机制实现。例如 UXD 协议通过 Delta Neutral 策略锚定 1 美元，Mint 时用户质押 SOL，系统用 USDC 做对冲，Burn 时返还对应资产。合约控制仓位与储备金，需结合 Pyth 预言机确保兑换价格合理。此类协议需关注清算机制、储备透明度与链上流动性保障。

### 5.AMM 自动做市商核心设计逻辑（如 Orca, Raydium）

- AMM 使用 x\*y=k 恒定乘积模型，池子由 PDA 管理状态，包括 token 储备、LP token mint 与交易费用设置。用户添加流动性获得 LP token，交易时调用 swap 指令自动计算滑点和费用。可设计多个池子支持不同交易对，结合 Router 实现多跳交易路径。支持 ALT 压缩账户列表、优先费用与客户端交易模拟以优化性能与链费。

### 你在简历里写了做过 Solana 开发，可以简单介绍下你做过哪些项目吗？

1.用 Rust + Anchor 开发并部署了 多池 Swap 程序，实现代币间兑换逻辑，并支持通过 CPI 调用不同 DEX 完成跨池交换。 2.开发过 稳定币合约，基于 SPL-Token 发行锚定资产，同时用 mpl-token-metadata 绑定 logo 和扩展信息，保证可扩展性。 3.用 TypeScript + Jupiter Swap API 写过套利机器人，可以实时获取价格，识别多 DEX 之间的差价，打包交易路由，提高套利成功率。

### Anchor 与 Solana 原生的区别#

账户声明：通过宏定义自动序列化/反序列化账户，减少手工处理错误。
上下文校验：自动帮我们做账户权限、owner 检查。
错误处理：内置错误码系统，调试更直观。
CPI 调用更方便，比如我在 Swap 程序里可以直接调用其它 DEX 的接口。
整体来说，Anchor 降低了开发门槛，提升了代码可读性和可维护性。

### 3. 你实现的 Swap 程序是怎么设计的？

核心逻辑是 恒定乘积公式 (x\*y=k)。
每个池子维护两个 token 的储备量。
用户兑换时，计算输入 token 数量对应的输出数量，扣除手续费，更新池子储备。
我们支持多池，通过 CPI 调用不同的 DEX，实现跨池交换，提高资金利用率。
难点在于 精度控制和防止价格操纵，我用 u128 做中间计算，并在路由时参考多个 DEX 的报价。

### 稳定币与 Token Metadata

用 SPL-Token 创建代币合约，发行锚定资产。
用 mpl-token-metadata 绑定代币的 logo、描述、扩展信息，方便前端和钱包识别。
在合约逻辑里预留了扩展 hook，方便未来接入治理或清算逻辑。
这样既能作为稳定币使用，又能扩展到其他应用场景。

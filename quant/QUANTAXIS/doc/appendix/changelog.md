# 版本历史

**版本**: 2.1.0-alpha2
**作者**: @yutiansut @quantaxis
**更新日期**: 2025-10-25

本文档记录QUANTAXIS的版本更新历史和变更内容。

---

## 📝 版本发布规范

QUANTAXIS遵循语义化版本控制（Semantic Versioning）：

**格式**: `MAJOR.MINOR.PATCH[-PRERELEASE]`

- **MAJOR**: 不兼容的API变更
- **MINOR**: 向后兼容的新功能
- **PATCH**: 向后兼容的问题修复
- **PRERELEASE**: 预发布版本（alpha, beta, rc）

---

## 🚀 2.1.x 系列

### v2.1.0-alpha2 (2025-10-25)

**重大更新**: Rust集成和性能优化

#### ✨ 新功能

**Rust集成 (QARS2)**
- 集成QARS2 Rust库，性能提升100倍
- 通过PyO3实现Python-Rust互操作
- Apache Arrow支持，实现零拷贝数据交换
- Rust实现的高性能指标计算（MA, MACD, KDJ等）

**性能优化**
- MongoDB查询优化，速度提升10倍
- ClickHouse集成，支持大规模数据分析
- 向量化计算优化，减少Python循环
- 多进程并行回测支持

**策略框架增强**
- 新增QAFactorBase因子策略基类
- 改进QAMultiBase多标的策略支持
- 增强QAHedgeBase对冲策略功能
- 统一的策略回调接口

**数据获取改进**
- 新增数据源：东方财富、同花顺
- 改进TDX数据获取稳定性
- 支持期权数据获取
- 支持数字货币实时行情

#### 🔧 改进

**代码质量**
- 完善类型注解（Type Hints）
- 改进错误处理和日志记录
- 优化内存使用
- 代码重构和模块化

**文档完善**
- 全新文档架构
- 完整的用户指南
- 详细的API文档
- 丰富的示例代码

**测试覆盖**
- 单元测试覆盖率 > 80%
- 集成测试完善
- 性能基准测试
- 向后兼容性测试

#### 🐛 问题修复

- 修复MongoDB连接池泄漏问题
- 修复期货合约代码解析错误
- 修复QIFI账户状态不一致问题
- 修复回测时成交价格计算错误
- 修复多标的策略仓位管理问题

#### ⚠️ 破坏性变更

**无** - 本版本保持100%向后兼容

#### 📦 依赖更新

- pandas >= 1.1.5
- numpy >= 1.12.0
- pymongo == 3.11.2
- tornado >= 6.3.2
- 新增：qars2 >= 0.1.0
- 新增：pyarrow >= 6.0.1
- 新增：clickhouse-driver >= 0.2.0

---

### v2.1.0-alpha1 (2025-09-01)

**预发布版本**: 2.1.0功能测试

#### ✨ 新功能

- QARS2基础集成
- ClickHouse初步支持
- 策略框架重构

#### 🐛 问题修复

- 修复已知bug
- 性能优化

---

## 🎯 2.0.x 系列

### v2.0.8 (2024-12-01)

#### ✨ 新功能

- 支持Python 3.10
- 新增QIFI账户系统完整实现
- 改进实盘交易稳定性

#### 🔧 改进

- 优化数据库查询性能
- 改进日志系统
- 完善错误处理

#### 🐛 问题修复

- 修复Windows平台兼容性问题
- 修复实盘订单状态同步问题
- 修复数据存储时区问题

---

### v2.0.7 (2024-09-01)

#### ✨ 新功能

- 新增期货期权支持
- 改进XWebServer性能
- 新增Docker部署支持

#### 🐛 问题修复

- 修复TDX数据获取偶发失败
- 修复回测滑点计算错误
- 修复账户权益计算问题

---

### v2.0.6 (2024-06-01)

#### ✨ 新功能

- 新增数字货币支持
- 改进策略回测性能
- 新增交易日历管理

#### 🔧 改进

- 优化数据存储格式
- 改进WebSocket稳定性
- 完善API文档

---

### v2.0.5 (2024-03-01)

#### 🐛 问题修复

- 修复MongoDB连接问题
- 修复期货合约代码匹配
- 修复实盘重连逻辑

---

### v2.0.0 (2024-01-01)

**重大版本更新**

#### ✨ 新功能

**QIFI账户系统**
- 统一的多市场账户接口
- 支持股票、期货、期权
- 跨语言兼容（Python/Rust/C++）

**实盘交易系统**
- 完整的EventMQ消息队列
- 多柜台支持（CTP、OES等）
- 风控系统集成

**回测引擎**
- 事件驱动回测
- 多标的并行回测
- 完整的性能分析

#### 🔧 改进

- 全面重构代码架构
- 改进数据存储效率
- 优化内存使用

#### ⚠️ 破坏性变更

- API接口调整
- 配置文件格式变更
- 数据库结构优化

---

## 📜 1.x 系列

### v1.10.0 (2023-06-01)

#### ✨ 新功能

- 新增QAStrategy策略框架
- 支持MongoDB 5.0
- 改进数据获取稳定性

---

### v1.9.0 (2023-01-01)

#### ✨ 新功能

- 新增分钟级回测
- 改进XMonitor界面
- 支持自定义数据源

---

### v1.8.0 (2022-09-01)

#### ✨ 新功能

- 新增因子分析模块
- 改进回测性能
- 支持港股数据

---

### v1.0.0 (2020-01-01)

**首个正式版本**

#### ✨ 核心功能

- 数据获取（股票、期货）
- 简单回测系统
- 基础可视化
- MongoDB存储

---

## 🔮 计划中功能

### v2.2.0 (计划 2026 Q2)

**机器学习集成**
- 深度学习模型支持
- 自动特征工程
- 模型训练和评估框架
- GPU加速计算

**增强的数据处理**
- 实时流式数据处理
- 复杂事件处理（CEP）
- 更多数据源集成

**高级策略**
- 强化学习策略
- 高频交易策略模板
- 期权定价和希腊值计算

---

### v2.3.0 (计划 2026 Q4)

**分布式架构**
- 分布式回测
- 多机并行计算
- 集群管理

**AI辅助开发**
- 策略生成AI助手
- 智能参数优化
- 自动化测试生成

---

## 📊 版本统计

| 版本系列 | 发布时间 | 主要特性 |
|---------|---------|---------|
| 2.1.x | 2025 | Rust集成、性能优化、ClickHouse |
| 2.0.x | 2024 | QIFI、实盘系统、回测引擎 |
| 1.x | 2020-2023 | 数据获取、基础回测、可视化 |

---

## 🔗 相关资源

- **发布说明**: https://github.com/QUANTAXIS/QUANTAXIS/releases
- **问题追踪**: https://github.com/QUANTAXIS/QUANTAXIS/issues
- **更新日志**: https://github.com/QUANTAXIS/QUANTAXIS/blob/master/CHANGELOG.md

---

## 📝 变更记录规范

每个版本的变更记录包含：

✅ **新功能** (✨): 新增的功能特性  
✅ **改进** (🔧): 现有功能的优化和改进  
✅ **问题修复** (🐛): Bug修复  
✅ **破坏性变更** (⚠️): 不兼容的API变更  
✅ **安全修复** (🔒): 安全漏洞修复  
✅ **性能优化** (⚡): 性能提升  
✅ **文档更新** (📚): 文档改进  
✅ **依赖更新** (📦): 依赖包版本变更  

---

## 🎯 升级指南

### 从 2.0.x 升级到 2.1.0

**完全兼容** - 无需修改现有代码

```bash
# 升级QUANTAXIS
pip install --upgrade QUANTAXIS

# 安装新依赖
pip install qars2 pyarrow clickhouse-driver

# 验证安装
python -c "import QUANTAXIS as QA; print(QA.__version__)"
```

### 从 1.x 升级到 2.0.0

**需要代码调整** - 参考迁移指南

主要变更：
1. 账户系统切换到QIFI
2. 策略基类继承变更
3. 配置文件格式调整

详细迁移指南：[迁移文档](../user-guide/migration.md)

---

## 📅 发布周期

- **Alpha版本**: 每2-3个月，包含实验性功能
- **Beta版本**: 每4-6个月，功能冻结，专注测试
- **正式版本**: 每6-12个月，稳定的生产版本
- **补丁版本**: 根据需要，修复关键bug

---

**作者**: @yutiansut @quantaxis
**最后更新**: 2025-10-25

[返回文档中心](../README.md)
